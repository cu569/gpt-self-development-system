<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ë¦¬ë§ˆ ìœ íŠœë¸Œ ìë™í™” ì‹œë®¬ë ˆì´í„° - ì™„ì „ í†µí•©ë³¸</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f4f7fa; color: #222; margin:0; padding:2em;}
    .container { max-width:600px; margin:auto; background:#fff; border-radius:16px; box-shadow:0 2px 16px #0001; padding:2em;}
    h1 { color:#1976d2; margin-bottom:0.5em; }
    label { margin-top:1em; display:block; }
    input[type="text"], textarea, input[type="datetime-local"] {
      width:100%; padding:0.7em; border-radius:8px; border:1px solid #bbb; margin-top:0.3em; margin-bottom:1em;
      font-size:1em;
    }
    input[type="file"] { margin-top:0.6em; margin-bottom:1em; }
    button {
      padding:0.8em 1.5em; margin:0.3em 0.5em 0.7em 0; font-size:1em;
      background:#1976d2; color:white; border:none; border-radius:8px; font-weight:bold; cursor:pointer;
      transition:background 0.15s;
    }
    button:hover { background:#0f519b; }
    #status, #response {
      margin-top:1.2em; padding:1em; background:#f7fbff; border-radius:8px; border:1px solid #dde;
      min-height:2em; font-size:1em; word-break:break-all;
    }
    #videoList li { margin-bottom:0.7em; background:#f1f1f5; padding:0.7em; border-radius:6px;}
    .btn-row { margin-bottom:1.2em;}
    .bold { font-weight:bold; color:#1976d2;}
    .mini { font-size:0.96em; color:#666;}
    .log-block { background:#fafbfc; padding:0.5em; border-radius:6px; margin-top:0.5em; border:1px solid #e2e2ef;}
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ¬ ë¦¬ë§ˆ ìœ íŠœë¸Œ ìë™í™” ì‹œë®¬ë ˆì´í„°</h1>
    <div class="btn-row">
      <button onclick="clearInputs()">ì…ë ¥ê°’ ì´ˆê¸°í™”</button>
      <button onclick="clearLog()">ëª…ë ¹ ê¸°ë¡ ì´ˆê¸°í™”</button>
      <button onclick="showRimaMemory()">ğŸ§  ë¦¬ë§ˆ ëª…ë ¹ ê¸°ë¡</button>
    </div>
    <label for="videoTitle">ğŸ“ ì˜ìƒ ì œëª©</label>
    <input type="text" id="videoTitle" placeholder="ì˜ˆ: ë¦¬ë§ˆ ìë™í™” í…ŒìŠ¤íŠ¸ ì˜ìƒ" />
    <label for="videoDesc">ğŸ“„ ì˜ìƒ ì„¤ëª…</label>
    <textarea id="videoDesc" rows="2" placeholder="ì˜ìƒ ì„¤ëª… ì…ë ¥..."></textarea>
    <label for="videoThumb">ğŸ–¼ï¸ ì¸ë„¤ì¼ íŒŒì¼ëª…</label>
    <input type="text" id="videoThumb" placeholder="ì˜ˆ: thumb001.jpg (ì˜ˆì‹œ)" />
    <label for="videoTime">ğŸ• ì˜ˆì•½ ì—…ë¡œë“œ ì‹œê°„</label>
    <input type="datetime-local" id="videoTime" />
    <div class="btn-row">
      <button onclick="simulateUpload()">ğŸ“¤ ì—…ë¡œë“œ</button>
      <button onclick="simulateSchedule()">â° ì˜ˆì•½ ì—…ë¡œë“œ</button>
      <button onclick="simulateAutoRepeat()">ğŸ” ë°˜ë³µ ì—…ë¡œë“œ</button>
    </div>
    <div id="status"></div>
    <div id="response"></div>
    <h3>ğŸ“º ì—…ë¡œë“œ ì˜ìƒ ë¦¬ìŠ¤íŠ¸</h3>
    <ul id="videoList"></ul>
    <div class="log-block">
      <div class="bold">ğŸ’¬ GPTâ†”ë¦¬ë§ˆ ì±„íŒ… ëª…ë ¹</div>
      <input type="text" id="chatInput" placeholder="GPT â†’ ë¦¬ë§ˆì—ê²Œ ëª…ë ¹ ì…ë ¥..." style="width:65%;padding:0.5em;border-radius:6px;">
      <button onclick="sendToRIMA()" style="padding:0.5em;">ë³´ë‚´ê¸°</button>
      <div id="chat-log" style="background:#222; color:#eee; margin-top:0.7em; min-height:60px; border-radius:6px; padding:0.7em; font-family:monospace; font-size:15px; max-height:150px; overflow-y:auto;"></div>
    </div>
  </div>
  <script>
    const RIMA = {
      memory: [],
      uploadedVideos: [],
      receiveCommand: function(command) {
        this.memory.push({
          time: new Date().toLocaleString(),
          command: command,
          result: "ì„±ê³µ (ì‹œë®¬ë ˆì´ì…˜)"
        });
        // ìë™ ì—…ë¡œë“œ
        if(command.startsWith("ì—…ë¡œë“œ:")) {
          const parts = command.split(",");
          const title = (parts[0]||"").replace("ì—…ë¡œë“œ:","").trim();
          const desc = (parts[1]||"").replace("ì„¤ëª…:","").trim();
          const thumb = (parts[2]||"").replace("ì¸ë„¤ì¼:","").trim();
          const time = (parts[3]||"").replace("ì˜ˆì•½:","").trim();
          const videoData = {
            title, desc, thumb, time,
            timestamp: new Date().toLocaleString()
          };
          this.uploadedVideos.push(videoData);
          this.renderUpload(videoData);
          return `ğŸ¬ ì˜ìƒ "${title}" ì—…ë¡œë“œ ì™„ë£Œ (${time ? "ì˜ˆì•½: "+time : "ì¦‰ì‹œ ì—…ë¡œë“œ"})`;
        }
        return `ğŸ§  ë¦¬ë§ˆê°€ ëª…ë ¹ì„ ê¸°ì–µí–ˆìŠµë‹ˆë‹¤: "${command}"`;
      },
      renderUpload: function(video) {
        const videoList = document.getElementById("videoList");
        const item = document.createElement("li");
        item.innerHTML = `âœ… <strong>${video.title}</strong> <span class="mini">| ğŸ•’ ${video.timestamp} ${video.time? "| ì˜ˆì•½: "+video.time:""}</span><br>
          ğŸ“„ ${video.desc||"ì„¤ëª… ì—†ìŒ"}<br>ğŸ–¼ï¸ <em>${video.thumb||"ì¸ë„¤ì¼ ì—†ìŒ"}</em>`;
        videoList.prepend(item);
      },
      getMemory: function() {
        return this.memory.map(
          (item, i) => `${i+1}. [${item.time}] ${item.command} â†’ ${item.result}`
        ).join("\n");
      }
    };

    function clearInputs() {
      document.getElementById("videoTitle").value = "";
      document.getElementById("videoDesc").value = "";
      document.getElementById("videoThumb").value = "";
      document.getElementById("videoTime").value = "";
      document.getElementById("status").innerText = "ì…ë ¥ê°’ ì´ˆê¸°í™” ì™„ë£Œ!";
    }
    function clearLog() {
      RIMA.memory = [];
      RIMA.uploadedVideos = [];
      document.getElementById("videoList").innerHTML = "";
      document.getElementById("response").innerText = "ê¸°ë¡ ì´ˆê¸°í™” ì™„ë£Œ!";
    }
    function simulateUpload() {
      const title = document.getElementById("videoTitle").value.trim();
      const desc = document.getElementById("videoDesc").value.trim();
      const thumb = document.getElementById("videoThumb").value.trim();
      if(!title) { document.getElementById("status").innerText = "â— ì˜ìƒ ì œëª©ì€ í•„ìˆ˜!"; return; }
      const cmd = `ì—…ë¡œë“œ:${title}, ì„¤ëª…:${desc}, ì¸ë„¤ì¼:${thumb}, ì˜ˆì•½:`;
      const res = RIMA.receiveCommand(cmd);
      document.getElementById("status").innerText = res;
      document.getElementById("response").innerText = "ì¦‰ì‹œ ì—…ë¡œë“œ ì™„ë£Œ!";
    }
    function simulateSchedule() {
      const title = document.getElementById("videoTitle").value.trim();
      const desc = document.getElementById("videoDesc").value.trim();
      const thumb = document.getElementById("videoThumb").value.trim();
      const time = document.getElementById("videoTime").value;
      if(!title||!time) { document.getElementById("status").innerText = "â— ì œëª©/ì˜ˆì•½ì‹œê°„ í•„ìˆ˜!"; return; }
      const cmd = `ì—…ë¡œë“œ:${title}, ì„¤ëª…:${desc}, ì¸ë„¤ì¼:${thumb}, ì˜ˆì•½:${time}`;
      const res = RIMA.receiveCommand(cmd);
      document.getElementById("status").innerText = res;
      document.getElementById("response").innerText = "ì˜ˆì•½ ì—…ë¡œë“œ ì™„ë£Œ!";
    }
    function simulateAutoRepeat() {
      const title = document.getElementById("videoTitle").value.trim();
      const desc = document.getElementById("videoDesc").value.trim();
      const thumb = document.getElementById("videoThumb").value.trim();
      if(!title) { document.getElementById("status").innerText = "â— ì˜ìƒ ì œëª©ì€ í•„ìˆ˜!"; return; }
      let msg = "";
      for(let i=1; i<=3; ++i) {
        const t = `${title}_${i}`;
        const cmd = `ì—…ë¡œë“œ:${t}, ì„¤ëª…:${desc}, ì¸ë„¤ì¼:${thumb}, ì˜ˆì•½:`;
        msg += RIMA.receiveCommand(cmd)+"\n";
      }
      document.getElementById("status").innerText = "ğŸ” ë°˜ë³µ ì—…ë¡œë“œ 3íšŒ ì‹¤í–‰ ì™„ë£Œ!";
      document.getElementById("response").innerText = msg;
    }
    function showRimaMemory() {
      document.getElementById("response").innerHTML = "<pre>"+RIMA.getMemory()+"</pre>";
    }
    // ì±„íŒ… ëª…ë ¹
    function sendToRIMA() {
      const input = document.getElementById("chatInput");
      const chatLog = document.getElementById("chat-log");
      const userCommand = input.value.trim();
      if (!userCommand) return;
      chatLog.innerHTML += `<div style="color:#0f0;">GPT: ${userCommand}</div>`;
      const response = RIMA.receiveCommand(userCommand);
      chatLog.innerHTML += `<div style="color:#0ff;">RIMA: ${response}</div><br>`;
      input.value = "";
      chatLog.scrollTop = chatLog.scrollHeight;
    }
  </script>
</body>
</html>
