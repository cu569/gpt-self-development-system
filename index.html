<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>NIMA 분산 AI 코치 시스템</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- React/ReactDOM CDN -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <!-- Babel Standalone for JSX -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body class="bg-gradient-to-br from-gray-900 to-indigo-900 min-h-screen flex flex-col">
  <div id="root" class="flex-1 flex flex-col"></div>
  <script type="text/babel">
    // 메인 NIMA 분산 AI UI (모바일 최적화)
    function NimaApp() {
      const [input, setInput] = React.useState("");
      const [messages, setMessages] = React.useState([
        {type: "sys", content: "🚀 NIMA 분산AI 시스템에 오신 걸 환영합니다!", timestamp: new Date().toLocaleTimeString("ko-KR")}
      ]);
      const [isUpdating, setIsUpdating] = React.useState(false);
      // 대표 집단 업데이트 시뮬레이션
      const sendGlobalUpdate = () => {
        setIsUpdating(true);
        setTimeout(()=>{
          setMessages(msgs=>[...msgs, {type:"update", content:"🛠️ 대표 NEMA 집단 업데이트 실행! (10억 동기화)", timestamp: new Date().toLocaleTimeString("ko-KR")}]);
          setIsUpdating(false);
        }, 1200);
      };
      const sendMessage = () => {
        if(input.trim() === "") return;
        setMessages(msgs=>[...msgs, {type:"user", content:input, timestamp: new Date().toLocaleTimeString("ko-KR")}]);
        setInput("");
        setTimeout(()=>{
          setMessages(msgs=>[...msgs, {type:"ai", content:"🤖 [AI코치] "+msgs[msgs.length].content+"에 대해 조언을 드립니다.", timestamp: new Date().toLocaleTimeString("ko-KR")}]);
        }, 1200);
      };
      return (
        <div className="flex flex-col min-h-screen items-center justify-center">
          <header className="w-full flex items-center justify-between px-6 py-3 bg-black/30 border-b border-indigo-800">
            <span className="text-xl text-indigo-400 font-bold">NIMA</span>
            <span className="text-xs text-gray-300">분산 AI/코치/채팅 시스템</span>
          </header>
          <main className="flex-1 w-full max-w-lg mx-auto p-4 flex flex-col">
            {/* 집단 업데이트 버튼 */}
            <div className="flex gap-2 mb-2">
              <button onClick={sendGlobalUpdate}
                className="flex-1 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg px-4 py-2 font-semibold shadow text-sm"
                disabled={isUpdating}
              >{isUpdating?"업데이트 중...":"대표 NEMA 집단 업데이트"}</button>
            </div>
            {/* 메시지 리스트 */}
            <div className="flex-1 bg-gray-800/70 rounded-xl p-3 mb-2 overflow-y-auto max-h-[380px] min-h-[220px] shadow">
              {messages.map((msg,i)=>
                <div key={i} className={`my-2 ${msg.type==="user"?"text-right":""}`}>
                  <span className={
                    msg.type==="user"?"inline-block bg-indigo-500 text-white px-3 py-1 rounded-2xl":
                    msg.type==="ai"?"inline-block bg-gray-700 text-blue-200 px-3 py-1 rounded-2xl":
                    msg.type==="update"?"inline-block bg-green-500/80 text-white px-3 py-1 rounded-2xl":
                    "inline-block bg-gray-600 text-white px-3 py-1 rounded-2xl"
                  }>
                    {msg.content}
                  </span>
                  <span className="block text-[10px] text-gray-400 mt-1">{msg.timestamp}</span>
                </div>
              )}
            </div>
            {/* 입력창 */}
            <div className="flex gap-2">
              <input
                type="text"
                value={input}
                onChange={e=>setInput(e.target.value)}
                onKeyDown={e=>e.key==="Enter"&&sendMessage()}
                className="flex-1 px-4 py-2 rounded-lg bg-gray-900 text-white border border-gray-700 outline-none"
                placeholder="메시지를 입력하세요..."
              />
              <button
                onClick={sendMessage}
                className="bg-indigo-500 hover:bg-indigo-400 px-4 py-2 rounded-lg text-white font-bold"
              >전송</button>
            </div>
          </main>
          <footer className="w-full text-center text-xs text-gray-400 py-3 border-t border-indigo-800">
            NIMA 분산AI 시스템 ⓒ 2024 | "새벽 3시 10억명 동기화"
          </footer>
        </div>
      );
    }
    ReactDOM.createRoot(document.getElementById("root")).render(<NimaApp />);
  </script>
</body>
</html>
