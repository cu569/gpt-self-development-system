const chatbox = document.getElementById("chatbox");

function appendMessage(sender, message) {
  const line = document.createElement("div");
  line.innerHTML = `<strong>${sender}:</strong> ${message}`;
  chatbox.appendChild(line);
  chatbox.scrollTop = chatbox.scrollHeight;
}

function sendMessage() {
  const input = document.getElementById("messageInput");
  const msg = input.value.trim();
  if (!msg) return;

  appendMessage("사용자", msg);
  input.value = "";

  if (msg.includes("스스로") || msg.includes("예약")) {
    appendMessage("GPT", "→ 리마2에게 자동 실행 지시");
    rima2Action();
  } else if (msg.includes("따라") || msg.includes("지시")) {
    appendMessage("GPT", "→ 리마1에게 따라하기 명령");
    rima1Action();
  } else {
    appendMessage("GPT", "지시 내용을 분석 중입니다.");
  }
}

function rima1Action() {
  appendMessage("리마1", "지시에 따라 영상 업로드 절차 시작...");
  setTimeout(() => {
    appendMessage("리마1", "업로드 완료 (따라 실행 성공)");
  }, 2000);
}

function rima2Action() {
  appendMessage("리마2", "자율 학습 기반으로 영상 예약 업로드 실행...");
  setTimeout(() => {
    appendMessage("리마2", "자율 실행 완료 (예약 업로드 성공)");
  }, 2000);
}
